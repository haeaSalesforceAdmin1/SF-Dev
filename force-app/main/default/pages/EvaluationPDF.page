<apex:page renderAs="PDF" applyBodyTag="false" controller="EvaluationPDFController" action="{!handleLoad}" applyHtmlTag="false" showHeader="false">

    <head>
        <style type="text/css" media="print">
            @page :first{
                @top-center {
                    content: element(header);
                }
            }

            @page {
                @bottom-left {
                    content: element(footer);
                }
            }

            * {
            	margin: 0px;
            	padding: 0px;
            }

            div.header {
            	margin-top: 30px;
            	height: 65px;
            	text-align: left;
            	position: running(header);
                font-size: 20px;
            }

            div.content {
            	padding-top: 130px;
            }

            div.footer {

            	padding: 5px;
                position: running(footer);
                color: #808080;
                font-size: 8px;
                page-break-after:auto;
            }

            div.subfooter {
            	display: block;
            }

            div.right {
                text-align: right;
            }

            .pagenumber:before {
                content: counter(page);
            }

            .pagecount:before {
            	content: counter(pages);
            }

            .stationName {
                text-align: center;
            	font-weight: bold;
            	font-size: 20pt;
            	margin-bottom: 30px;
            }

            table {
            	width: 100%;
            }

            .centered {
            	text-align: center;
            }

            .right {
            	text-align: right;
            }

            .tableHeader {
            	border-width: 0px 0px 1px 0px;
            	border-color: #000;
            	border-style: solid;
            }

            .sectionHeader {
            	width: 100%;
            	background-color: #eee;
            	font-size: 16pt;
            	padding: 5px;
            	margin: 20px 0px;
            	font-weight: bold;
            }

            #totalCost {
            	margin-top: 15px;
            }

            #totalCostLabel {
            	font-weight: bold;
            	margin-right: 10px;
            }

            .imageTest {
                background:  url('/resource/1616388901000/Failed_Threshold') no-repeat !important;
            }
            .green{
            color:green;
            }
            .red{   
            color:rgb(255, 38, 0);
            }
            .GridData > table{
            font-size: 12px;
   			 width: 100%;
             border-collapse: collapse;
 			  text-align: center;
            }
           .GridData table{
              border: 0.5px solid black;
				}
            
            .GridData th{
            padding:2px;
            text-align: center;
            font-size: 12px;
            font-weight: normal;
              border: 0.5px solid black;
             background:rgb(92,92,92); color:white; 
				}
            
            .GridData td{
              padding:2%;
                         border: 0.5px solid black;
            
				}

        </style>
    </head>
    	 
    <div class="header">
        <!--<div class="imageTest"/>
            
        <div class="centered"><apex:image style="color:red" url="{!$Resource.Failed_Threshold}" height="50"/></div>-->
        <apex:outputPanel rendered="{!evaluationWrapper.evaluation.Organization__c == 'Hyundai'}">
            <div class="centered"><apex:image url="{!$Resource.Hyundai_Logo}" height="50"/></div>
        </apex:outputPanel>
        <apex:outputPanel rendered="{!evaluationWrapper.evaluation.Organization__c != 'Hyundai'}">
            <div class="centered"><apex:image url="{!$Resource.Genesis_Logo}" height="100"/></div>
        </apex:outputPanel>
        <div class="centered"><apex:outputField value="{!evaluationWrapper.evaluation.Account__r.Name}"/></div>        
        <div class="centered" style="padding-bottom: 5px"><apex:outputField value="{!evaluationWrapper.evaluation.Name}"/></div>
        <div class="centered" style="padding-bottom: 5px">Evaluation</div>
        <div class="centered"><apex:outputField value="{!evaluationWrapper.evaluation.Type__c}"/></div>
     </div>

     <div class="footer"> 
        <!--<div class="centered">Generated by {!$User.FirstName} {!$User.LastName}</div>-->
         <d><div class="centered">             
             {!evaluationWrapper.evaluation.Account__r.Name}</div></d>
         <d><div class="centered">{!evaluationWrapper.evaluation.Name}</div></d>
             <d><div class="centered">{!evaluationWrapper.evaluation.Type__c}</div></d>
        <table cellspacing="0" cellpadding="0">
            <tr>
                <td>PDF generation date: <apex:outputText value="{0,date,MM/dd/yy}"> <apex:param value="{!TODAY()}" /> </apex:outputText></td>
                <!--<td width="33%"><div >{!NOW()}</div></td>-->
                <td width="33%"><div class="centered">Page <span class="pagenumber"/> of <span class="pagecount"/></div></td>
                <td width="33%"><div class="right">Generated by {!$User.FirstName} {!$User.LastName}                                
                    </div></td>
            </tr>
        </table>
         
    </div>

    <div class="content">
        <div><span style="font-weight: bold; font-size: 16px">Evaluation Status:</span>&nbsp;{!evaluationWrapper.evaluation.Status__c}</div>
        <div><span style="font-weight: bold; font-size: 16px">Date Initiated:</span>&nbsp;<apex:outputField value="{!evaluationWrapper.evaluation.StartDate__c}"/></div>
        <div><span style="font-weight: bold; font-size: 16px">Due Date:</span>&nbsp;<apex:outputField value="{!evaluationWrapper.evaluation.DueDate__c}"/></div>
        <!--<div><span style="font-weight: bold; font-size: 16px">End Date:</span>&nbsp;<apex:outputField value="{!evaluationWrapper.evaluation.EndDate__c}"/></div>
        <apex:outputPanel rendered="{!evaluationWrapper.evaluation.Survey__c != null}">
            <div><span style="font-weight: bold; font-size: 16px">Survey Name:</span>&nbsp;<apex:outputField value="{!evaluationWrapper.evaluation.Survey__r.Name}"/></div>
            <div><span style="font-weight: bold; font-size: 16px">Survey Score:</span>&nbsp;<apex:outputField value="{!evaluationWrapper.evaluation.Total_Score__c}"/></div>
        </apex:outputPanel>-->

      <!--  <apex:outputPanel rendered="{!evaluationWrapper.evaluation.Survey__c != null}">
            <div style="padding-top: 25px">
                <div style="padding-bottom: 5px; background:rgb(14,42,92); color:white"><span style="font-weight: bold; font-size: 18px">Survey</span></div>
                    <apex:repeat value="{!evaluationWrapper.surveyQuestionWrappers}" var="wrapper">
                    <div style="padding-bottom: 10px; padding-left:10px">
                        <apex:outputPanel rendered="{!wrapper.surveyQuestion.Instruction_Text__c != null}" >
                            <div>
                                <tr>
                                    <td>
                                        <div style="font-size:18px;font-weight:bold"> Instructions:</div><apex:outputField value="{!wrapper.surveyQuestion.Instruction_Text__c}"/>
                                    </td>
                                </tr>
                            </div>
                        </apex:outputPanel>
                        <apex:outputPanel rendered="{!wrapper.surveyQuestion.Benefit_Text__c != null}" >
                            <div style="padding-top: 10px;">
                                <tr>
                                    <td>
                                        <div style="font-size:18px; font-weight: bold">Benefits:</div> <apex:outputField value="{!wrapper.surveyQuestion.Benefit_Text__c}"/>
                                    </td>
                                </tr>
                            </div>
                        </apex:outputPanel>
                        <div style="padding-top: 15px">
                            <tr>
                                <td>
                                    <div style="font-size: 18px; font-weight: bold">Question&nbsp;<apex:outputText value="{!wrapper.surveyQuestion.Question_Number_Text__c}"/></div>
                                </td>
                            </tr> 
                        </div>
                        <tr>
                            <td>
                                <div style="display: inline-block !important"><apex:outputText value="{!wrapper.surveyQuestion.Question_Text__c}" escape="false"/></div>
                            </td>
                        </tr>
                        <div style="padding-top: 5px">
                            <tr>
                                <td>
                                    <div style="padding-left: 15px; color: blue; font-size:16px; font-weight: bold">Response:&nbsp;<apex:outputText value="{!wrapper.surveyQuestion.Response__c}"/></div>
                                </td>
                            </tr> 
                        </div>

                        <apex:outputPanel rendered="{!wrapper.inlineQuestions.size > 0}">
                            <div style="padding-left: 15px; padding-top: 10px">
                                <table>
                                    <apex:repeat value="{!wrapper.inlineQuestions}" var="inlineQuestion">
                                        <div style="padding-bottom: 3px">
                                            <tr>
                                                <td>
                                                    <apex:outputField value="{!inlineQuestion.Question_Text__c}"/>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <div>
                                                        <div style="padding-left: 10px; color: blue; font-size:16px; font-weight: bold">Response:&nbsp;<apex:outputField value="{!inlineQuestion.Response_Text__c}"/></div>
                                                    </div>
                                                </td>
                                            </tr>
                                        </div>
                                    </apex:repeat>
                                </table>
                            </div>
                        </apex:outputPanel>

                        <apex:outputPanel rendered="{!wrapper.numericTabularQuestions.size > 0}">
                            <div style="padding-left: 15px; padding-top: 10px">
                                <table style="width=75%;">
                                    <tr>
                                        <th>

                                        </th>
                                        <th>
                                            <div style="word-wrap: break-word">
                                            {!wrapper.tabularHeader1}
                                            </div>
                                        </th>
                                        <th >
                                            <div style="word-wrap: break-word">
                                            {!wrapper.tabularHeader2}
                                            </div>
                                        </th>
                                    </tr>
                                    <apex:repeat value="{!wrapper.numericTabularQuestions}" var="inlineQuestion">
                                            <tr>
                                                <td>
                                                    <apex:outputField value="{!inlineQuestion.Question_Text__c}"/>
                                                </td>
                                                <td>
                                                    <div style="color: blue; font-size:16px; font-weight: bold">
                                            
                                                        <apex:outputText value="{0, number, 0}">
                                                            <apex:param value="{!inlineQuestion.Response_Number__c}" />
                                                        </apex:outputText>
                                                    </div>
                                                </td>
                                                <td>
                                                    <div style="color: blue; font-size:16px; font-weight: bold">
                                                        <apex:outputText value="{0, number, 0}">
                                                            <apex:param value="{!inlineQuestion.Response_Number_2__c}" />
                                                        </apex:outputText>
                                                    </div>
                                                </td>
                                            </tr>

                                    </apex:repeat>
                                </table>
                            </div>
                        </apex:outputPanel>

                        <apex:outputPanel rendered="{!wrapper.contentDocumentIds.size > 0}">
                            <apex:repeat value="{!wrapper.contentDocumentIds}" var="documentId">
                                <span style="padding-right:3px"><apex:image value="/sfc/servlet.shepherd/version/download/{!documentId}" width="150"/></span>
                            </apex:repeat>
                        </apex:outputPanel>
                    </div>
                </apex:repeat>
            </div>
        </apex:outputPanel>-->

        <apex:outputPanel rendered="{!evaluationWrapper.evalKPIDetails.size > 0 && showFinancials}">
            <div style="padding-left: 0px; padding-top: 25px">
                <div style="{!IF(evaluationWrapper.evaluation.Account__r.Organization__r.Name == 'Hyundai' , 'padding-bottom: 5px; background:rgb(14,42,92); color:white' , 'padding-bottom: 5px; background: black; color:white')}"><span style="padding-left:5px;font-weight: bold; font-size: 18px">Evaluation KPIs</span></div>
                <table>
                    <thead>
                        <th>KPI Name</th>
                        <th>Value</th>
                        <th>Threshold</th>
                        <th>Status</th>
                        <th>District</th>
                        <th>Region</th>
                        
                    </thead>
                 <apex:repeat value="{!evaluationWrapper.evalKPIDetails}" var="evalKPIDetail">
                    <tr>
                        <td><span style="padding-right:3px">{! evalKPIDetail.KPIName}</span></td>
                        <td><apex:outputField value="{!evalKPIDetail.einsteinKPIDetail.Key_Value__c}"/></td>
                        <td><apex:outputField value="{!evalKPIDetail.einsteinKPIDetail.Threshold_Value__c}"/></td>
                        
                        <td><apex:outputField value="{! evalKPIDetail.einsteinKPIDetail.ThresholdStatusIcon__c}"/></td>
                        <td style="color:{!evalKPIDetail.districtColor}">
                            <apex:outputField value="{!evalKPIDetail.districtEinsteinKPIDetail.Key_Value__c}"/></td>
                        <td style="color:{!evalKPIDetail.regionColor}">
                            <apex:outputField value="{!evalKPIDetail.regionEinsteinKPIDetail.Key_Value__c}"/></td>
                        
                    </tr>
                </apex:repeat>
                </table>
            </div>
        </apex:outputPanel>

 <!--<apex:outputPanel rendered="{!evaluationWrapper.isDashboardDataPresent}">
          <div class="GridData" style="padding-left: 0px; padding-top: 25px">
         <div style="{!IF(evaluationWrapper.evaluation.Account__r.Organization__r.Name == 'Hyundai' , 'padding-bottom: 5px; background:rgb(14,42,92); color:white' , 'padding-bottom: 5px; background: black; color:white')}"><span style="padding-left:5px;font-weight: bold; font-size: 18px">Evaluation KPIs Dashboard Grid</span></div>

            <apex:repeat value="{!evaluationWrapper.evalKPIDetails}" var="evalKPIDetail">
           <apex:outputLabel escape="false" Value=" {!IF(evalKPIDetail.dashboardTableData != '' ,evalKPIDetail.KPIName,'')}"></apex:outputLabel>
                   <apex:outputLabel escape="false" Value="   {!evalKPIDetail.dashboardTableData}" ></apex:outputLabel>
              </apex:repeat>
                
             </div>
        </apex:outputPanel>-->


        <!--<apex:outputPanel rendered="{!showApprovals && evaluationWrapper.processInstance != null}">  
            <div style="padding-top: 25px">
                <div style="{!IF(evaluationWrapper.evaluation.Organization__c == 'Hyundai' , 'padding-top: 5px; padding-bottom: 5px; background:rgb(14,42,92); color:white' , 'padding-top: 5px; padding-bottom: 5px; background: black; color:white')}"><span style="padding-left:5px;font-weight: bold; font-size: 18px">Evaluation Approval History</span></div>
                <apex:outputPanel rendered="{!evaluationWrapper.processInstance != null}">
                        <table>
                            <tr style="font-weight:bold; background-color: #f2f2f2;">
                                <td>{!evaluationWrapper.processInstance.ProcessDefinition.Name}</td>
                                <td style="text-align: right">{!evaluationWrapper.processInstance.Status}</td>
                            </tr>
                        </table>
                        <div style="padding-left: 10px">
                            <table>
                                <apex:repeat value="{!evaluationWrapper.processInstance.StepsAndWorkitems}" var="step" >
                                    <tr>
                                        <td><apex:outputField value="{!step.CreatedDate}"/></td>
                                        <td>
                                            <apex:outputField value="{!step.StepStatus}"/> - {!step.OriginalActor.Name}
                                        
                                        </td>
                                        <td><apex:outputField value="{!step.Comments}"/></td>
                                    </tr>
                                </apex:repeat>
                            </table>
                        </div>
                    </apex:outputPanel>
                    <apex:outputPanel rendered="{!evaluationWrapper.processInstance == null}">
                        <div style="padding-left: 10px; font-weight: bold">No Approval History</div>
                    </apex:outputPanel>
            </div>
        </apex:outputPanel>-->

        <apex:outputPanel rendered="{!evaluationWrapper.evaluationDocumentIds.size > 0}">
            <div style="padding-top: 35px">
                <div style="{!IF(evaluationWrapper.evaluation.Organization__c == 'Hyundai' , 'padding-top: 5px; font-weight: bold; font-size:18px;padding-bottom: 5px; background:rgb(14,42,92); color:white' , 'padding-top: 5px; font-weight: bold; font-size:18px;padding-bottom: 5px; background: black; color:white')}"><span style="padding-left:5px;font-weight: bold; font-size: 18px">Evaluation Files</span></div>
                <div style="padding-left:10px">
                    <apex:repeat value="{!evaluationWrapper.evaluationDocumentIds}" var="evaluationFile">
                        <div style="padding-bottom: 25px">
                            <apex:outputPanel rendered="{!evaluationFile.type == 'png' || evaluationFile.type == 'jpg' || evaluationFile.type == 'gif' || evaluationFile.type == 'jpeg'}">
                                <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!evaluationFile.Id}"><apex:image value="/sfc/servlet.shepherd/version/download/{!evaluationFile.Id}" width="200"/></apex:outputLink></span></div>
                                <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!evaluationFile.Id}">{!evaluationFile.fileName}</apex:outputLink></span></div>
                            </apex:outputPanel>
                            <apex:outputPanel rendered="{!evaluationFile.type == 'xls' || evaluationFile.type == 'xlsx'}">
                                <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!evaluationFile.Id}"><apex:image url="{!$Resource.excelicon}" width="75"/></apex:outputLink></span></div>
                                <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!evaluationFile.Id}">{!evaluationFile.fileName}</apex:outputLink></span></div>
                            </apex:outputPanel>
                            <apex:outputPanel rendered="{!evaluationFile.type == 'doc' || evaluationFile.type == 'docx'}">
                                <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!evaluationFile.Id}"><apex:image url="{!$Resource.wordicon}" width="75"/></apex:outputLink></span></div>
                                <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!evaluationFile.Id}">{!evaluationFile.fileName}</apex:outputLink></span></div>
                            </apex:outputPanel>
                            <apex:outputPanel rendered="{!evaluationFile.type == 'pdf' }">
                                <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!evaluationFile.Id}"><apex:image url="{!$Resource.pdficon}" width="75"/></apex:outputLink></span></div>
                                <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!evaluationFile.Id}">{!evaluationFile.fileName}</apex:outputLink></span></div>
                            </apex:outputPanel>
                            <apex:outputPanel rendered="{!evaluationFile.type == 'ppt'}">
                                <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!evaluationFile.Id}"><apex:image url="{!$Resource.ppticon}" width="75"/></apex:outputLink></span></div>
                                <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!evaluationFile.Id}">{!evaluationFile.fileName}</apex:outputLink></span></div>
                            </apex:outputPanel>
                            <apex:outputPanel rendered="{!evaluationFile.type != 'png' && evaluationFile.type != 'jpg' && evaluationFile.type != 'gif' && evaluationFile.type != 'jpeg' && evaluationFile.type != 'xls' && evaluationFile.type != 'xlsx'  && evaluationFile.type != 'docx' && evaluationFile.type != 'doc' && evaluationFile.type != 'pdf' && evaluationFile.type != 'ppt'}">
                                <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!evaluationFile.Id}"><apex:image url="{!$Resource.unknownicon}" width="75"/></apex:outputLink></span></div>
                                <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!evaluationFile.Id}">{!evaluationFile.fileName}</apex:outputLink></span></div>
                            </apex:outputPanel>
                        </div>
                    </apex:repeat>
                </div>
            </div>
        </apex:outputPanel>

        <apex:outputPanel rendered="{!evaluationWrapper.evaluationContacts.size > 0}">
            <div style="padding-top: 35px">
                <div style="{!IF(evaluationWrapper.evaluation.Organization__c == 'Hyundai' , 'padding-top: 5px; font-weight: bold; font-size:18px;padding-bottom: 5px; background:rgb(14,42,92); color:white' , 'padding-top: 5px; font-weight: bold; font-size:18px;padding-bottom: 5px; background: black; color:white')}"><span style="padding-left:5px;font-weight: bold; font-size: 18px">Evaluation Contacts</span></div>
                <div style="padding-left: 0px; padding-right: 10px; padding-top:3px">
                    <table>
                        <apex:repeat value="{!evaluationWrapper.evaluationContacts}" var="evalContact">
                            <tr>
                                <td style="width:33%"><apex:outputField value="{!evalContact.Contact__r.Name}"/></td>
                                <td style="width:33%"><apex:outputField value="{!evalContact.Contact__r.Email}"/></td>
                                <td style="width:33%"><apex:outputField value="{!evalContact.Contact__r.Phone}"/></td>
                            </tr>
                        </apex:repeat>
                    </table>
                </div>
            </div>
        </apex:outputPanel>

        <div style="padding-top: 35px">
            <div style="{!IF(evaluationWrapper.evaluation.Organization__c == 'Hyundai' , 'padding-top: 5px; font-weight: bold; font-size:18px;padding-bottom: 5px; background:rgb(14,42,92); color:white' , 'padding-top: 5px; font-weight: bold; font-size:18px;padding-bottom: 5px; background: black; color:white')}"><span style="padding-left:5px;font-weight: bold; font-size: 18px">HMA Representative</span></div>
            <div style="padding-left: 0px; padding-right: 10px; padding-top:3px">
                <table>
                    <tr>
                        <td style="width:33%"><apex:outputField value="{!evaluationWrapper.evaluation.Owner.Name}"/></td>
                        <td style="width:33%"><apex:outputField value="{!evaluationWrapper.evaluation.Owner.Email}"/></td>
                        <td style="width:33%"><apex:outputField value="{!evaluationWrapper.evaluation.Owner.Phone}"/></td>
                    </tr>
                </table>
            </div>
        </div>

        <div style="padding-top: 35px">
            <div style="{!IF(evaluationWrapper.evaluation.Organization__c == 'Hyundai' , 'padding-top: 5px; padding-bottom: 5px; background:rgb(14,42,92); color:white' , 'padding-top: 5px; padding-bottom: 5px; background: black; color:white')}"><span style="padding-left:5px;font-weight: bold; font-size: 18px">Action Plan Summary</span></div>
            <div style="padding-top: 10px; padding-bottom: 10px">
                <div style="background:rgb(77,114,190); color:white">
                    <table style="width: 100%">
                        <thead>
                            <th style="width:20%; text-align: center">
                                <div style="font-weight: bold"><!--Sales--> Process Standards</div>
                            </th>
                             <th style="width:20%; text-align: center">
                                <div style="font-weight: bold">Carry Over </div>
                            </th>
                           <!-- <th style="width:20%; text-align: center">
                                <div style="font-weight: bold">In Progress</div>
                            </th>-->
                            <th style="width:20%; text-align: center">
                                <div style="font-weight: bold">Compliant</div>
                            </th>
                            <th style="width:20%; text-align: center">
                                <div style="font-weight: bold">Non Compliant</div>
                            </th>      
                           
                            
                            
                        </thead>
                        <div style="background: unset; color: unset;">
                            <tr>
                                <td style="text-align: center"> <div style="font-weight: bold; text-align:center">{!evaluationWrapper.standardActionPlanCount}</div></td>
                                <td style="text-align: center"> <div style="font-weight: bold">{!evaluationWrapper.actionPlanCountCarryOver}</div></td> 
                           		<!--<td style="text-align: center"> <div style="font-weight: bold; text-align:center">{!evaluationWrapper.actionPlanCountInProgress}</div></td>-->
                                <td style="text-align: center"> <div style="font-weight: bold">{!evaluationWrapper.actionPlanCountCompliant}</div></td>
                                <td style="text-align: center"> <div style="font-weight: bold">{!evaluationWrapper.actionPlanCountNonCompliant}</div></td> 
                             </tr>
                        </div>
                    </table>
                </div>
             </div>
            
            <apex:outputPanel rendered="{!evaluationWrapper.evaluation.Survey__c == null}">
                <apex:repeat value="{!evaluationWrapper.actionPlanWrappers}" var="actionPlanWrapper">
                    <div style="padding-bottom: 15px;  padding-left: 10px">
                        <div style="width:100%; background-color: #f2f2f2; font-weight: bold; font-size:18px"><apex:outputField value="{!actionPlanWrapper.actionPlan.Name}"></apex:outputField>&nbsp;({!actionPlanWrapper.actionPlan.DPMCategory__c})</div>
                        <div style="padding-left: 10px">
                            <!--<div><span style="font-weight: bold">Category:</span>&nbsp;<apex:outputField value="{!actionPlanWrapper.actionPlan.DPMCategory__c}"></apex:outputField></div>-->
                            <!--<div><span style="font-weight: bold">Status:</span>&nbsp;<apex:outputField value="{!actionPlanWrapper.actionPlan.Status__c}"></apex:outputField></div>
                            <div><span style="font-weight: bold">Date Initiated:</span>&nbsp;<apex:outputField value="{!actionPlanWrapper.actionPlan.DateInitiated__c}"></apex:outputField></div>
                            <div><span style="font-weight: bold">Date Due:</span>&nbsp;<apex:outputField value="{!actionPlanWrapper.actionPlan.DueDate__c}"></apex:outputField></div>-->

                            <!--<apex:outputPanel rendered="{!actionPlanWrapper.actionPlan.HMASurveyQuestion__c != null}">
                                <div style="padding-top:15px">
                                    <div style="font-weight: bold; font-size: 16px">Survey Question Details</div>
                                    <div><span style="font-weight: bold"></span><apex:outputField value="{!actionPlanWrapper.actionPlan.Question_Failed_Official__c}"></apex:outputField></div>

                                    
                                    <apex:outputPanel rendered="{!evaluationWrapper.surveyQuestionWrappersMap[actionPlanWrapper.actionPlan.HMASurveyQuestion__c].surveyQuestion.Response_Text__c != null}">
                                    <span style="font-weight: bold">Response:&nbsp;&nbsp;</span>{!evaluationWrapper.surveyQuestionWrappersMap[actionPlanWrapper.actionPlan.HMASurveyQuestion__c].surveyQuestion.Response_Text__c}
                                    </apex:outputPanel>

                                    <apex:outputPanel rendered="{!evaluationWrapper.surveyQuestionWrappersMap[actionPlanWrapper.actionPlan.HMASurveyQuestion__c].inlineQuestions.size > 0}">
                                        <div style="padding-left: 15px; padding-top: 10px">
                                            <table>
                                                <apex:repeat value="{!evaluationWrapper.surveyQuestionWrappersMap[actionPlanWrapper.actionPlan.HMASurveyQuestion__c].inlineQuestions}" var="inlineQuestion">
                                                    <div style="padding-bottom: 3px">
                                                        <tr>
                                                            <td>
                                                                <apex:outputField value="{!inlineQuestion.Question_Text__c}"/>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>
                                                                <div>
                                                                    <div style="padding-left: 10px; color: blue; font-size:16px; font-weight: bold">Response:&nbsp;<apex:outputField value="{!inlineQuestion.Response_Text__c}"/></div>
                                                                </div>
                                                            </td>
                                                        </tr>
                                                    </div>
                                                </apex:repeat>
                                            </table>
                                        </div>
                                    </apex:outputPanel>

                                    <apex:outputPanel rendered="{!evaluationWrapper.surveyQuestionWrappersMap[actionPlanWrapper.actionPlan.HMASurveyQuestion__c].numericTabularQuestions.size > 0}">
                                    Tabular
                                    </apex:outputPanel>

                                    <apex:outputPanel rendered="{!evaluationWrapper.surveyQuestionWrappersMap[actionPlanWrapper.actionPlan.HMASurveyQuestion__c].contentDocumentIds.size > 0}">
                                        <div style="padding-top: 25px">
                                            <div style="font-weight: bold; font-size:16px">Survey Question Files</div>
                                            <div style="padding-left:10px">
                                                <apex:repeat value="{!evaluationWrapper.surveyQuestionWrappersMap[actionPlanWrapper.actionPlan.HMASurveyQuestion__c].contentDocumentIds}" var="documentId">
                                                    <span style="padding-right:3px"><apex:image value="/sfc/servlet.shepherd/version/download/{!documentId}" width="150"/></span>
                                                </apex:repeat>
                                            </div>
                                        </div>
                                    </apex:outputPanel>
                            
                                </div>
                            </apex:outputPanel>-->
                            
                            <div style="padding-top: 15px">
                                <div style="font-weight: bold; font-size: 16px">Dealer Summary</div>
                                <div style="padding-left:15px"><apex:outputField value="{!actionPlanWrapper.actionPlan.SummaryDealer__c}"></apex:outputField></div>
                            </div>

                            <!--<div style="padding-top: 15px">
                                <div style="font-weight: bold; font-size:16px">Internal Summary</div>
                                <div><apex:outputField value="{!actionPlanWrapper.actionPlan.HMAInternalSummary__c}"></apex:outputField></div>
                            </div>-->

                            <!--<apex:outputPanel rendered="{!showApprovals}">
                                <div style="padding-top: 25px">
                                    <div style="font-weight: bold; font-size: 16px">Action Plan Approval History</div>
                                    <apex:outputPanel rendered="{!actionPlanWrapper.processInstance != null}">
                                        <table>
                                            <tr style="font-weight:bold; background-color: #f2f2f2;">
                                                <td>{!actionPlanWrapper.processInstance.ProcessDefinition.Name}</td>
                                                <td style="text-align: right">{!actionPlanWrapper.processInstance.Status}</td>
                                            </tr>
                                        </table>
                                        <div style="padding-left: 10px">
                                            <table>
                                                <apex:repeat value="{!actionPlanWrapper.processInstance.StepsAndWorkitems}" var="step" >
                                                    <tr>
                                                        <td><apex:outputField value="{!step.CreatedDate}"/></td>
                                                        <td>
                                                            <apex:outputField value="{!step.StepStatus}"/> - {!step.OriginalActor.Name}
                                                        
                                                        </td>
                                                        <td><apex:outputField value="{!step.Comments}"/></td>
                                                    </tr>
                                                </apex:repeat>
                                            </table>
                                        </div>
                                    </apex:outputPanel>
                                    <apex:outputPanel rendered="{!actionPlanWrapper.processInstance == null}">
                                        <div style="padding-left: 10px; font-weight: bold">No Approval History</div>
                                    </apex:outputPanel>
                                </div>
                            </apex:outputPanel>-->
                            <div style="padding-top: 25px">
                                <div style="font-weight: bold; font-size:16px">Action Plan Files</div>
                                <div style="padding-left:10px">
                                    <apex:repeat value="{!actionPlanWrapper.actionPlanDocumentIds}" var="actionPlanFile">
                                        <div style="padding-bottom: 25px">
                                            <apex:outputPanel rendered="{!actionPlanFile.type == 'png' || actionPlanFile.type == 'jpg' || actionPlanFile.type == 'gif' || actionPlanFile.type == 'jpeg'}">
                                                <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!actionPlanFile.Id}"><apex:image value="/sfc/servlet.shepherd/version/download/{!actionPlanFile.Id}" width="200"/></apex:outputLink></span></div>
                                                <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!actionPlanFile.Id}">{!actionPlanFile.fileName}</apex:outputLink></span></div>
                                            </apex:outputPanel>
                                            <apex:outputPanel rendered="{!actionPlanFile.type == 'xls' || actionPlanFile.type == 'xlsx'}">
                                                <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!actionPlanFile.Id}"><apex:image url="{!$Resource.excelicon}" width="75"/></apex:outputLink></span></div>
                                                <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!actionPlanFile.Id}">{!actionPlanFile.fileName}</apex:outputLink></span></div>
                                            </apex:outputPanel>
                                            <apex:outputPanel rendered="{!actionPlanFile.type == 'doc' || actionPlanFile.type == 'docx'}">
                                                <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!actionPlanFile.Id}"><apex:image url="{!$Resource.wordicon}" width="75"/></apex:outputLink></span></div>
                                                <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!actionPlanFile.Id}">{!actionPlanFile.fileName}</apex:outputLink></span></div>
                                            </apex:outputPanel>
                                            <apex:outputPanel rendered="{!actionPlanFile.type == 'pdf' }">
                                                <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!actionPlanFile.Id}"><apex:image url="{!$Resource.pdficon}" width="75"/></apex:outputLink></span></div>
                                                <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!actionPlanFile.Id}">{!actionPlanFile.fileName}</apex:outputLink></span></div>
                                            </apex:outputPanel>
                                            <apex:outputPanel rendered="{!actionPlanFile.type == 'ppt'}">
                                                <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!actionPlanFile.Id}"><apex:image url="{!$Resource.ppticon}" width="75"/></apex:outputLink></span></div>
                                                <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!actionPlanFile.Id}">{!actionPlanFile.fileName}</apex:outputLink></span></div>
                                            </apex:outputPanel>
                                            <apex:outputPanel rendered="{!actionPlanFile.type != 'png' && actionPlanFile.type != 'jpg' && actionPlanFile.type != 'gif' && actionPlanFile.type != 'jpeg' && actionPlanFile.type != 'xls' && actionPlanFile.type != 'xlsx'  && actionPlanFile.type != 'docx' && actionPlanFile.type != 'doc' && actionPlanFile.type != 'pdf' && actionPlanFile.type != 'ppt'}">
                                                <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!actionPlanFile.Id}"><apex:image url="{!$Resource.unknownicon}" width="75"/></apex:outputLink></span></div>
                                                <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!actionPlanFile.Id}">{!actionPlanFile.fileName}</apex:outputLink></span></div>
                                            </apex:outputPanel>
                                        </div>
                                    </apex:repeat>
                                </div>
                            </div>
                        </div>
                    </div>
                </apex:repeat>
            </apex:outputPanel>

            <apex:outputPanel rendered="{!evaluationWrapper.evaluation.Survey__c != null}">
            <div style="padding-top: 25px">
                <div style="page-break-before:always"/>
                <div style="padding-top: 5px; padding-bottom: 5px; background:rgb(14,42,92); color:white"><span style="padding-left:5px;font-weight: bold; font-size: 18px">Survey</span></div>
                    <apex:repeat value="{!evaluationWrapper.surveyQuestionWrappers}" var="wrapper">
                
                    
                    
                    <div style="padding-bottom: 10px;">
                        <!--<apex:outputPanel rendered="{!wrapper.surveyQuestion.Instruction_Text__c != null}" >
                            <div>
                                <tr>
                                    <td>
                                        <div style="font-size:18px;font-weight:bold"> Instructions:</div><apex:outputField value="{!wrapper.surveyQuestion.Instruction_Text__c}"/>
                                    </td>
                                </tr>
                            </div>
                        </apex:outputPanel>
                        <apex:outputPanel rendered="{!wrapper.surveyQuestion.Benefit_Text__c != null}" >
                            <div style="padding-top: 10px;">
                                <tr>
                                    <td>
                                        <div style="font-size:18px; font-weight: bold">Benefits:</div> <apex:outputField value="{!wrapper.surveyQuestion.Benefit_Text__c}"/>
                                    </td>
                                </tr>
                            </div>
                        </apex:outputPanel>-->
                        <div style="padding-top: 15px">
                            <tr>
                                <td>
                                    <apex:outputPanel rendered="{!wrapper.surveyQuestion.Category__c != null}"><div style="font-size: 18px; font-weight: bold">Question&nbsp;<apex:outputText value="{!wrapper.surveyQuestion.Question_Number_Text__c}"/>&nbsp;({!wrapper.surveyQuestion.Category__c})</div></apex:outputPanel>
                                    <apex:outputPanel rendered="{!wrapper.surveyQuestion.Category__c == null}"><div style="font-size: 18px; font-weight: bold">Question&nbsp;<apex:outputText value="{!wrapper.surveyQuestion.Question_Number_Text__c}"/></div></apex:outputPanel>
                                </td>
                            </tr> 
                        </div>
                        <tr>
                            <td>
                                <div style="display: inline-block !important"><apex:outputText value="{!wrapper.surveyQuestion.Question_Text__c}" escape="false"/></div>
                            </td>
                        </tr>
                        <div style="padding-top: 5px">
                            <tr>
                                <td>
                                    <div style="text-align:right; padding-left: 15px; ; font-size:16px;"><span style="font-weight: bold">Initial Survey Response:</span>&nbsp;<apex:outputText value="{!wrapper.surveyQuestion.InitialResponseText__c}"/></div>
                                </td>
                            </tr> 
                            <tr>
                                <td>
                                    <apex:outputPanel rendered="{!wrapper.surveyQuestion.Action_Plan__c == null}">
                                        <div style="text-align:right; padding-left: 15px; ; font-size:16px;"><span style="font-weight: bold">Final Review Response:</span>&nbsp;<apex:outputText value="{!wrapper.surveyQuestion.Response__c}"/></div>
                                    </apex:outputPanel>
                                    <apex:outputPanel rendered="{!wrapper.surveyQuestion.Action_Plan__c != null && wrapper.surveyQuestion.Action_Plan__r.Status__c != 'Compliant' &&  wrapper.surveyQuestion.Action_Plan__r.Status__c != 'Non-Compliant' }">
                                        <div style="text-align:right; padding-left: 15px; ; font-size:16px;"><span style="font-weight: bold">Final Review Response:</span>&nbsp;<apex:outputText value="{!wrapper.surveyQuestion.Response__c}"/>&nbsp;(In Progress)</div>
                                    </apex:outputPanel>
                                    <apex:outputPanel rendered="{!wrapper.surveyQuestion.Action_Plan__c != null && wrapper.surveyQuestion.Action_Plan__r.Status__c == 'Compliant' || wrapper.surveyQuestion.Action_Plan__r.Status__c == 'Non-Compliant'}">
                                        <div style="text-align:right; padding-left: 15px; ; font-size:16px; "><span style="font-weight: bold">Final Review Response:</span>&nbsp;<apex:outputText value="{!wrapper.surveyQuestion.Response__c}"/>&nbsp;({!wrapper.surveyQuestion.Action_Plan__r.Status__c })</div>
                                    </apex:outputPanel>
                                </td>
                            </tr> 
                            <tr>
                                <td>
                                    <div style="text-align:right; padding-left: 15px; font-size:16px;"><span style="font-weight: bold">Score:</span>&nbsp;
                                        <apex:outputText value="{0, number, 0}">
                                            <apex:param value="{!wrapper.surveyQuestion.Score__c}" />
                                        </apex:outputText></div>
                                </td>
                            </tr> 
                        </div>

                        <apex:outputPanel rendered="{!wrapper.inlineQuestions.size > 0}">
                            <div style="padding-left: 15px; padding-top: 10px">
                                <table>
                                    <apex:repeat value="{!wrapper.inlineQuestions}" var="inlineQuestion">
                                        <div style="padding-bottom: 3px">
                                            <tr>
                                                <td>
                                                    <apex:outputField value="{!inlineQuestion.Question_Text__c}"/>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <div>
                                                        <div style="padding-left: 10px;  font-size:16px; "><span style="font-weight: bold">Response:</span>&nbsp;<apex:outputField value="{!inlineQuestion.Response_Text__c}"/></div>
                                                    </div>
                                                </td>
                                            </tr>
                                        </div>
                                    </apex:repeat>
                                </table>
                            </div>
                        </apex:outputPanel>

                        <!--<apex:outputPanel rendered="{!wrapper.numericTabularQuestions.size > 0}">
                            <div style="padding-left: 15px; padding-top: 10px">
                                <table style="width=75%;">
                                    <tr>
                                        <th>

                                        </th>
                                        <th>
                                            <div style="word-wrap: break-word">
                                            {!wrapper.tabularHeader1}
                                            </div>
                                        </th>
                                        <th >
                                            <div style="word-wrap: break-word">
                                            {!wrapper.tabularHeader2}
                                            </div>
                                        </th>
                                    </tr>
                                    <apex:repeat value="{!wrapper.numericTabularQuestions}" var="inlineQuestion">
                                            <tr>
                                                <td>
                                                    <apex:outputField value="{!inlineQuestion.Question_Text__c}"/>
                                                </td>
                                                <td>
                                                    <div style=" font-size:16px; font-weight: unset">
                                            
                                                        <apex:outputText value="{0, number, 0}">
                                                            <apex:param value="{!inlineQuestion.Response_Number__c}" />
                                                        </apex:outputText>
                                                    </div>
                                                </td>
                                                <td>
                                                    <div style=" font-size:16px; font-weight: unset">
                                                        <apex:outputText value="{0, number, 0}">
                                                            <apex:param value="{!inlineQuestion.Response_Number_2__c}" />
                                                        </apex:outputText>
                                                    </div>
                                                </td>
                                            </tr>

                                    </apex:repeat>
                                </table>
                            </div>
                        </apex:outputPanel>-->

                        <apex:outputPanel rendered="{!wrapper.numericTabularQuestions.size > 0}">
                            <div style="padding-left: 15px; padding-top: 10px">
                                <apex:outputPanel rendered="{!wrapper.tabularHeader3 != null}">
                                    <table style="width:100%;">
                                        <tr>
                                            <th style="width:39%;text-align: center">
                                                &nbsp;
                                            </th>
                                            <th style="width:19%;text-align: center">
                                                <div style="word-wrap: break-word">
                                                {!wrapper.tabularHeader1}
                                                </div>
                                            </th>
                                            <th style="width:19%;text-align: center">
                                                <div style="word-wrap: break-word">
                                                {!wrapper.tabularHeader2}
                                                </div>
                                            </th>
    
                                            <th style="width:19%;text-align: center">
                                                <div>
                                                {!wrapper.tabularHeader3}
                                                </div>
                                            </th>
    
                                        </tr>
                                        <apex:repeat value="{!wrapper.numericTabularQuestions}" var="inlineQuestion">
                                            <tr>
                                                <td>
                                                    <apex:outputField value="{!inlineQuestion.Question_Text__c}"/>
                                                </td>
                                                <td style="text-align: center">
                                                    <div style="color: #808080; font-size:16px; font-weight: bold">
                                                        <!--<apex:outputField value="{!inlineQuestion.Response_Number__c}"/>-->
                                                        <apex:outputText value="{0, number, 0}">
                                                            <apex:param value="{!inlineQuestion.Response_Number__c}" />
                                                        </apex:outputText>
                                                    </div>
                                                </td>
                                                <td style="text-align: center">
                                                    <div style="color: #808080; font-size:16px; font-weight: bold">
                                                        <apex:outputText value="{0, number, 0}">
                                                            <apex:param value="{!inlineQuestion.Response_Number_2__c}" />
                                                        </apex:outputText>
                                                    </div>
                                                </td>
                                                <td style="text-align: center">
                                                    <div style="color: #808080; font-size:16px; font-weight: bold">
                                                        <apex:outputText value="{0, number, 0}">
                                                            <apex:param value="{!inlineQuestion.Response_Number_3__c}" />
                                                        </apex:outputText>
                                                    </div>
                                                </td>
                                            </tr>
                                        </apex:repeat>
                                    </table>
                                </apex:outputPanel>
    
                                <apex:outputPanel rendered="{!wrapper.tabularHeader3 == null}">
                                    <table style="width:100%;">
                                        <tr>
                                            <th style="width:40%;text-align: center">
                                                &nbsp;
                                            </th>
                                            <th style="width:30%;text-align: center">
                                                <div style="word-wrap: break-word">
                                                {!wrapper.tabularHeader1}
                                                </div>
                                            </th>
                                            <th style="width:30%;text-align: center">
                                                <div style="word-wrap: break-word">
                                                {!wrapper.tabularHeader2}
                                                </div>
                                            </th>
    
                                        </tr>
                                        <apex:repeat value="{!wrapper.numericTabularQuestions}" var="inlineQuestion">
                                            <tr>
                                                <td>
                                                    <apex:outputField value="{!inlineQuestion.Question_Text__c}"/>
                                                </td>
                                                <td style="text-align: center">
                                                    <div style="color: #808080; font-size:16px; font-weight: bold">
                                                        <!--<apex:outputField value="{!inlineQuestion.Response_Number__c}"/>-->
                                                        <apex:outputText value="{0, number, 0}">
                                                            <apex:param value="{!inlineQuestion.Response_Number__c}" />
                                                        </apex:outputText>
                                                    </div>
                                                </td>
                                                <td style="text-align: center">
                                                    <div style="color: #808080; font-size:16px; font-weight: bold">
                                                        <apex:outputText value="{0, number, 0}">
                                                            <apex:param value="{!inlineQuestion.Response_Number_2__c}" />
                                                        </apex:outputText>
                                                    </div>
                                                </td>
                                            </tr>
                                        </apex:repeat>
                                    </table>
                                </apex:outputPanel>
                            </div>
                        </apex:outputPanel>

                        <div style=" font-size:16px; font-weight: bold; padding-bottom: 10px">Survey Proof:</div>
                        <apex:outputPanel rendered="{!wrapper.contentDocumentIds.size > 0}">
                            <div style="border: 1px solid #808080;padding:10px">
                                <apex:repeat value="{!wrapper.contentDocumentIds}" var="surveyQuestionFile">
                                    <div style="padding-bottom: 25px">
                                        <apex:outputPanel rendered="{!surveyQuestionFile.type == 'png' || surveyQuestionFile.type == 'jpg' || surveyQuestionFile.type == 'gif' || surveyQuestionFile.type == 'jpeg'}">
                                            <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!surveyQuestionFile.Id}"><apex:image value="/sfc/servlet.shepherd/version/download/{!surveyQuestionFile.Id}" width="200"/></apex:outputLink></span></div>
                                            <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!surveyQuestionFile.Id}">{!surveyQuestionFile.fileName}</apex:outputLink></span></div>
                                        </apex:outputPanel>
                                        <apex:outputPanel rendered="{!surveyQuestionFile.type == 'xls' || surveyQuestionFile.type == 'xlsx'}">
                                            <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!surveyQuestionFile.Id}"><apex:image url="{!$Resource.excelicon}" width="75"/></apex:outputLink></span></div>
                                            <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!surveyQuestionFile.Id}">{!surveyQuestionFile.fileName}</apex:outputLink></span></div>
                                        </apex:outputPanel>
                                        <apex:outputPanel rendered="{!surveyQuestionFile.type == 'doc' || surveyQuestionFile.type == 'docx'}">
                                            <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!surveyQuestionFile.Id}"><apex:image url="{!$Resource.wordicon}" width="75"/></apex:outputLink></span></div>
                                            <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!surveyQuestionFile.Id}">{!surveyQuestionFile.fileName}</apex:outputLink></span></div>
                                        </apex:outputPanel>
                                        <apex:outputPanel rendered="{!surveyQuestionFile.type == 'pdf' }">
                                            <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!surveyQuestionFile.Id}"><apex:image url="{!$Resource.pdficon}" width="75"/></apex:outputLink></span></div>
                                            <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!surveyQuestionFile.Id}">{!surveyQuestionFile.fileName}</apex:outputLink></span></div>
                                        </apex:outputPanel>
                                        <apex:outputPanel rendered="{!surveyQuestionFile.type == 'ppt'}">
                                            <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!surveyQuestionFile.Id}"><apex:image url="{!$Resource.ppticon}" width="75"/></apex:outputLink></span></div>
                                            <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!surveyQuestionFile.Id}">{!surveyQuestionFile.fileName}</apex:outputLink></span></div>
                                        </apex:outputPanel>
                                        <apex:outputPanel rendered="{!surveyQuestionFile.type != 'png' && surveyQuestionFile.type != 'jpg' && surveyQuestionFile.type != 'gif' && surveyQuestionFile.type != 'jpeg' && surveyQuestionFile.type != 'xls' && surveyQuestionFile.type != 'xlsx'  && surveyQuestionFile.type != 'docx' && surveyQuestionFile.type != 'doc' && surveyQuestionFile.type != 'pdf' && surveyQuestionFile.type != 'ppt'}">
                                            <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!surveyQuestionFile.Id}"><apex:image url="{!$Resource.unknownicon}" width="75"/></apex:outputLink></span></div>
                                            <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!surveyQuestionFile.Id}">{!surveyQuestionFile.fileName}</apex:outputLink></span></div>
                                        </apex:outputPanel>
                                    </div>
                                </apex:repeat>
                            </div>
                        </apex:outputPanel>

                        <div style="padding-top:10px">
                            <div style="font-size:16px; font-weight: bold; padding-bottom: 10px">Remarks:</div>
                            <apex:outputField value="{!wrapper.surveyQuestion.Remarks__c}"/>
                            <apex:outputPanel rendered="{!wrapper.surveyQuestion.Action_Plan__c == null && wrapper.surveyQuestion.AP_Moved_to_Next_Quarter__c}">
                                <div><span style="padding-right:3px;color: #4CAF50;"><b>Note: An Action Plan for this question has been generated and Carried Over to the next quarter. This Action Plan must be submitted to HMA by the Due Date of the following quarter for HMA approval.</b> </span></div>
                         </apex:outputPanel>
                        </div>

                        <apex:outputPanel rendered="{!wrapper.surveyQuestion.Action_Plan__c != null}">
                            <apex:variable var="apWrapper" value="{!evaluationWrapper.actionPlanWrapperMap[wrapper.surveyQuestion.Action_Plan__c]}"   /> 

                            <div style="padding-top:10px; padding-bottom:10px">
                                <div style="font-size:16px; font-weight: bold; padding-bottom: 10px">Action Plan Proof:</div>

                                <apex:outputPanel rendered="{!apWrapper.actionPlanDocumentIds.size > 0}">
                                    <div style="border: 1px solid #808080;padding:10px">
                                        
                                        <apex:repeat value="{!apWrapper.actionPlanDocumentIds}" var="actionPlanFile">
                                            <div style="padding-bottom: 25px">
                                                <apex:outputPanel rendered="{!actionPlanFile.type == 'png' || actionPlanFile.type == 'jpg' || actionPlanFile.type == 'gif' || actionPlanFile.type == 'jpeg'}">
                                                    <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!actionPlanFile.Id}"><apex:image value="/sfc/servlet.shepherd/version/download/{!actionPlanFile.Id}" width="200"/></apex:outputLink></span></div>
                                                    <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!actionPlanFile.Id}">{!actionPlanFile.fileName}</apex:outputLink></span></div>
                                                </apex:outputPanel>
                                                <apex:outputPanel rendered="{!actionPlanFile.type == 'xls' || actionPlanFile.type == 'xlsx'}">
                                                    <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!actionPlanFile.Id}"><apex:image url="{!$Resource.excelicon}" width="75"/></apex:outputLink></span></div>
                                                    <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!actionPlanFile.Id}">{!actionPlanFile.fileName}</apex:outputLink></span></div>
                                                </apex:outputPanel>
                                                <apex:outputPanel rendered="{!actionPlanFile.type == 'doc' || actionPlanFile.type == 'docx'}">
                                                    <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!actionPlanFile.Id}"><apex:image url="{!$Resource.wordicon}" width="75"/></apex:outputLink></span></div>
                                                    <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!actionPlanFile.Id}">{!actionPlanFile.fileName}</apex:outputLink></span></div>
                                                </apex:outputPanel>
                                                <apex:outputPanel rendered="{!actionPlanFile.type == 'pdf' }">
                                                    <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!actionPlanFile.Id}"><apex:image url="{!$Resource.pdficon}" width="75"/></apex:outputLink></span></div>
                                                    <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!actionPlanFile.Id}">{!actionPlanFile.fileName}</apex:outputLink></span></div>
                                                </apex:outputPanel>
                                                <apex:outputPanel rendered="{!actionPlanFile.type == 'ppt'}">
                                                    <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!actionPlanFile.Id}"><apex:image url="{!$Resource.ppticon}" width="75"/></apex:outputLink></span></div>
                                                    <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!actionPlanFile.Id}">{!actionPlanFile.fileName}</apex:outputLink></span></div>
                                                </apex:outputPanel>
                                                <apex:outputPanel rendered="{!actionPlanFile.type != 'png' && actionPlanFile.type != 'jpg' && actionPlanFile.type != 'gif' && actionPlanFile.type != 'jpeg' && actionPlanFile.type != 'xls' && actionPlanFile.type != 'xlsx'  && actionPlanFile.type != 'docx' && actionPlanFile.type != 'doc' && actionPlanFile.type != 'pdf' && actionPlanFile.type != 'ppt'}">
                                                    <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!actionPlanFile.Id}"><apex:image url="{!$Resource.unknownicon}" width="75"/></apex:outputLink></span></div>
                                                    <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!actionPlanFile.Id}">{!actionPlanFile.fileName}</apex:outputLink></span></div>
                                                </apex:outputPanel>
                                            </div>
                                        </apex:repeat>
                                    </div>
                                </apex:outputPanel>
                            </div>

                            <!--<div style="padding-bottom:5px"><span style="color:#808080; font-size:16px; font-weight: bold;">Category:</span>&nbsp;<b><apex:outputField style="font-weight:bold" value="{!apWrapper.actionPlan.DPMCategory__c}"></apex:outputField></b></div>
                            <div style="padding-bottom:5px"><span style="color:#808080; font-size:16px; font-weight: bold;">Action Plan Status:</span>&nbsp;<b><apex:outputField style="font-weight:bold" value="{!apWrapper.actionPlan.Status__c}"></apex:outputField></b></div>
                            <div style="padding-bottom:5px"><span style="color:#808080; font-size:16px; font-weight: bold;">Date Initiated:</span>&nbsp;<b><apex:outputField style="font-weight:bold" value="{!apWrapper.actionPlan.DateInitiated__c}"></apex:outputField></b></div>
                            <div><span style="color:#808080; font-size:16px; font-weight: bold;">Date Due:</span>&nbsp;<b><apex:outputField style="font-weight:bold" value="{!apWrapper.actionPlan.DueDate__c}"></apex:outputField></b></div>-->

                            <div style="padding-top: 15px">
                                <div style="font-size:16px; font-weight: bold;">Dealer Summary</div>
                                <div style="padding-left:10px"><apex:outputField value="{!apWrapper.actionPlan.SummaryDealer__c}"></apex:outputField></div>
                            </div>

                            <!--<div style="padding-top: 15px">
                                <div style="color:#808080; font-size:16px; font-weight: bold;">Internal Summary</div>
                                <div style="padding-left:10px"><apex:outputField value="{!apWrapper.actionPlan.HMAInternalSummary__c}"></apex:outputField></div>
                            </div>-->

                            <!--<apex:outputPanel rendered="{!showApprovals}">
                                <div style="padding-top: 15px; padding-bottom: 10px">
                                    <div style="color:#808080; font-size:16px; font-weight: bold;padding-bottom: 5px;">Action Plan Approval History</div>
                                    <apex:outputPanel rendered="{!apWrapper.processInstance != null}">
                                        <table>
                                            <tr style="font-weight:bold; background-color: #f2f2f2;">
                                                <td>{!apWrapper.processInstance.ProcessDefinition.Name}</td>
                                                <td style="text-align: right">{!apWrapper.processInstance.Status}</td>
                                            </tr>
                                        </table>
                                        <div style="padding-left: 10px;">
                                            <table>
                                                <apex:repeat value="{!apWrapper.processInstance.StepsAndWorkitems}" var="step" >
                                                    <tr>
                                                        <td><apex:outputField value="{!step.CreatedDate}"/></td>
                                                        <td>
                                                            <apex:outputField value="{!step.StepStatus}"/> - {!step.OriginalActor.Name}
                                                        
                                                        </td>
                                                        <td><apex:outputField value="{!step.Comments}"/></td>
                                                    </tr>
                                                </apex:repeat>
                                            </table>
                                        </div>
                                    </apex:outputPanel>
                                    <apex:outputPanel rendered="{!apWrapper.processInstance == null}">
                                        <div style="padding-left:10px; font-weight: bold;">No Approval History</div>
                                    </apex:outputPanel>
                                </div>
                            </apex:outputPanel>-->

                        </apex:outputPanel>



                    </div>
                <div style="padding-left:20px; padding-right:20px; color:#808080;padding-top:10px; padding-bottom:10px">
                    <hr style="border-top: 2px inset #bbb;"/>
                </div>
                <div style="page-break-after:always"/>
                </apex:repeat>
            </div>
        </apex:outputPanel>
                
              <apex:outputPanel rendered="{!evaluationWrapper.carryOverSurveyQuestionWrappersMap != null}">
            <div style="padding-top: 25px">
                <div style="padding-top: 5px; padding-bottom: 5px; background:rgb(14,42,92); color:white"><span style="padding-left:5px;font-weight: bold; font-size: 18px">Survey (Carry Over From Previous Quarter)</span></div>
                    <apex:repeat value="{!evaluationWrapper.carryOverSurveyQuestionWrappers}" var="wrapper">
                
                    
                    
                    <div style="padding-bottom: 10px;">
                       
                        <div style="padding-top: 15px">
                            <tr>
                                <td>
                                    <apex:outputPanel rendered="{!wrapper.surveyQuestion.Category__c != null}"><div style="font-size: 18px; font-weight: bold">Question&nbsp;<apex:outputText value="{!wrapper.surveyQuestion.Question_Number_Text__c}"/>&nbsp;({!wrapper.surveyQuestion.Category__c})</div></apex:outputPanel>
                                    <apex:outputPanel rendered="{!wrapper.surveyQuestion.Category__c == null}"><div style="font-size: 18px; font-weight: bold">Question&nbsp;<apex:outputText value="{!wrapper.surveyQuestion.Question_Number_Text__c}"/></div></apex:outputPanel>
                                </td>
                            </tr> 
                        </div>
                        <tr>
                            <td>
                                <div style="display: inline-block !important"><apex:outputText value="{!wrapper.surveyQuestion.Question_Text__c}" escape="false"/></div>
                            </td>
                        </tr>
                        <div style="padding-top: 5px">
                            <tr>
                                <td>
                                    <div style="text-align:right; padding-left: 15px; ; font-size:16px;"><span style="font-weight: bold">Initial Survey Response:</span>&nbsp;<apex:outputText value="{!wrapper.surveyQuestion.InitialResponseText__c}"/></div>
                                </td>
                            </tr> 
                            <tr>
                                <td>
                                    <apex:outputPanel rendered="{!wrapper.surveyQuestion.Action_Plan__c == null}">
                                        <div style="text-align:right; padding-left: 15px; ; font-size:16px;"><span style="font-weight: bold">Final Review Response:</span>&nbsp;<apex:outputText value="{!wrapper.surveyQuestion.Response__c}"/></div>
                                    </apex:outputPanel>
                                    <apex:outputPanel rendered="{!wrapper.surveyQuestion.Action_Plan__c != null && wrapper.surveyQuestion.Is_Carried_Over__c && wrapper.surveyQuestion.Action_Plan__r.Status__c != 'Compliant' && wrapper.surveyQuestion.Action_Plan__r.Status__c != 'Non-Compliant'}">
                                   <div style="text-align:right; padding-left: 15px; ; font-size:16px; "><span style="font-weight: bold">Final Review Response:</span>&nbsp;<apex:outputText value="{!wrapper.surveyQuestion.Response__c}"/>&nbsp;(In Progress) </div>   
                                </apex:outputPanel>
                                <apex:outputPanel rendered="{!wrapper.surveyQuestion.Action_Plan__c != null && wrapper.surveyQuestion.Is_Carried_Over__c && wrapper.surveyQuestion.Action_Plan__r.Status__c == 'Compliant' || wrapper.surveyQuestion.Action_Plan__r.Status__c == 'Non-Compliant'}">
                                        <div style="text-align:right; padding-left: 15px; ; font-size:16px; "><span style="font-weight: bold">Final Review Response:</span>&nbsp;<apex:outputText value="{!wrapper.surveyQuestion.Response__c}"/>&nbsp;({!wrapper.surveyQuestion.Action_Plan__r.Status__c })</div>
                                    </apex:outputPanel>
                                </td>
                            </tr> 
                            <tr>
                                <td>
                                    <div style="text-align:right; padding-left: 15px; font-size:16px;"><span style="font-weight: bold">Score:</span>&nbsp;
                                        <apex:outputText value="{0, number, 0}">
                                            <apex:param value="{!wrapper.surveyQuestion.Score__c}" />
                                        </apex:outputText></div>
                                </td>
                            </tr> 
                        </div>

                        <apex:outputPanel rendered="{!wrapper.inlineQuestions.size > 0}">
                            <div style="padding-left: 15px; padding-top: 10px">
                                <table>
                                    <apex:repeat value="{!wrapper.inlineQuestions}" var="inlineQuestion">
                                        <div style="padding-bottom: 3px">
                                            <tr>
                                                <td>
                                                    <apex:outputField value="{!inlineQuestion.Question_Text__c}"/>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <div>
                                                        <div style="padding-left: 10px;  font-size:16px; "><span style="font-weight: bold">Response:</span>&nbsp;<apex:outputField value="{!inlineQuestion.Response_Text__c}"/></div>
                                                    </div>
                                                </td>
                                            </tr>
                                        </div>
                                    </apex:repeat>
                                </table>
                            </div>
                        </apex:outputPanel>

                      
                        <apex:outputPanel rendered="{!wrapper.numericTabularQuestions.size > 0}">
                            <div style="padding-left: 15px; padding-top: 10px">
                                <apex:outputPanel rendered="{!wrapper.tabularHeader3 != null}">
                                    <table style="width:100%;">
                                        <tr>
                                            <th style="width:39%;text-align: center">
                                                &nbsp;
                                            </th>
                                            <th style="width:19%;text-align: center">
                                                <div style="word-wrap: break-word">
                                                {!wrapper.tabularHeader1}
                                                </div>
                                            </th>
                                            <th style="width:19%;text-align: center">
                                                <div style="word-wrap: break-word">
                                                {!wrapper.tabularHeader2}
                                                </div>
                                            </th>
    
                                            <th style="width:19%;text-align: center">
                                                <div>
                                                {!wrapper.tabularHeader3}
                                                </div>
                                            </th>
    
                                        </tr>
                                        <apex:repeat value="{!wrapper.numericTabularQuestions}" var="inlineQuestion">
                                            <tr>
                                                <td>
                                                    <apex:outputField value="{!inlineQuestion.Question_Text__c}"/>
                                                </td>
                                                <td style="text-align: center">
                                                    <div style="color: #808080; font-size:16px; font-weight: bold">
                                                        <apex:outputText value="{0, number, 0}">
                                                            <apex:param value="{!inlineQuestion.Response_Number__c}" />
                                                        </apex:outputText>
                                                    </div>
                                                </td>
                                                <td style="text-align: center">
                                                    <div style="color: #808080; font-size:16px; font-weight: bold">
                                                        <apex:outputText value="{0, number, 0}">
                                                            <apex:param value="{!inlineQuestion.Response_Number_2__c}" />
                                                        </apex:outputText>
                                                    </div>
                                                </td>
                                                <td style="text-align: center">
                                                    <div style="color: #808080; font-size:16px; font-weight: bold">
                                                        <apex:outputText value="{0, number, 0}">
                                                            <apex:param value="{!inlineQuestion.Response_Number_3__c}" />
                                                        </apex:outputText>
                                                    </div>
                                                </td>
                                            </tr>
                                        </apex:repeat>
                                    </table>
                                </apex:outputPanel>
    
                                <apex:outputPanel rendered="{!wrapper.tabularHeader3 == null}">
                                    <table style="width:100%;">
                                        <tr>
                                            <th style="width:40%;text-align: center">
                                                &nbsp;
                                            </th>
                                            <th style="width:30%;text-align: center">
                                                <div style="word-wrap: break-word">
                                                {!wrapper.tabularHeader1}
                                                </div>
                                            </th>
                                            <th style="width:30%;text-align: center">
                                                <div style="word-wrap: break-word">
                                                {!wrapper.tabularHeader2}
                                                </div>
                                            </th>
    
                                        </tr>
                                        <apex:repeat value="{!wrapper.numericTabularQuestions}" var="inlineQuestion">
                                            <tr>
                                                <td>
                                                    <apex:outputField value="{!inlineQuestion.Question_Text__c}"/>
                                                </td>
                                                <td style="text-align: center">
                                                    <div style="color: #808080; font-size:16px; font-weight: bold">
                                                        <apex:outputText value="{0, number, 0}">
                                                            <apex:param value="{!inlineQuestion.Response_Number__c}" />
                                                        </apex:outputText>
                                                    </div>
                                                </td>
                                                <td style="text-align: center">
                                                    <div style="color: #808080; font-size:16px; font-weight: bold">
                                                        <apex:outputText value="{0, number, 0}">
                                                            <apex:param value="{!inlineQuestion.Response_Number_2__c}" />
                                                        </apex:outputText>
                                                    </div>
                                                </td>
                                            </tr>
                                        </apex:repeat>
                                    </table>
                                </apex:outputPanel>
                            </div>
                        </apex:outputPanel>

                        <div style=" font-size:16px; font-weight: bold; padding-bottom: 10px">Survey Proof:</div>
                        <apex:outputPanel rendered="{!wrapper.contentDocumentIds.size > 0}">
                            <div style="border: 1px solid #808080;padding:10px">
                                <apex:repeat value="{!wrapper.contentDocumentIds}" var="surveyQuestionFile">
                                    <div style="padding-bottom: 25px">
                                        <apex:outputPanel rendered="{!surveyQuestionFile.type == 'png' || surveyQuestionFile.type == 'jpg' || surveyQuestionFile.type == 'gif' || surveyQuestionFile.type == 'jpeg'}">
                                            <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!surveyQuestionFile.Id}"><apex:image value="/sfc/servlet.shepherd/version/download/{!surveyQuestionFile.Id}" width="200"/></apex:outputLink></span></div>
                                            <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!surveyQuestionFile.Id}">{!surveyQuestionFile.fileName}</apex:outputLink></span></div>
                                        </apex:outputPanel>
                                        <apex:outputPanel rendered="{!surveyQuestionFile.type == 'xls' || surveyQuestionFile.type == 'xlsx'}">
                                            <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!surveyQuestionFile.Id}"><apex:image url="{!$Resource.excelicon}" width="75"/></apex:outputLink></span></div>
                                            <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!surveyQuestionFile.Id}">{!surveyQuestionFile.fileName}</apex:outputLink></span></div>
                                        </apex:outputPanel>
                                        <apex:outputPanel rendered="{!surveyQuestionFile.type == 'doc' || surveyQuestionFile.type == 'docx'}">
                                            <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!surveyQuestionFile.Id}"><apex:image url="{!$Resource.wordicon}" width="75"/></apex:outputLink></span></div>
                                            <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!surveyQuestionFile.Id}">{!surveyQuestionFile.fileName}</apex:outputLink></span></div>
                                        </apex:outputPanel>
                                        <apex:outputPanel rendered="{!surveyQuestionFile.type == 'pdf' }">
                                            <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!surveyQuestionFile.Id}"><apex:image url="{!$Resource.pdficon}" width="75"/></apex:outputLink></span></div>
                                            <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!surveyQuestionFile.Id}">{!surveyQuestionFile.fileName}</apex:outputLink></span></div>
                                        </apex:outputPanel>
                                        <apex:outputPanel rendered="{!surveyQuestionFile.type == 'ppt'}">
                                            <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!surveyQuestionFile.Id}"><apex:image url="{!$Resource.ppticon}" width="75"/></apex:outputLink></span></div>
                                            <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!surveyQuestionFile.Id}">{!surveyQuestionFile.fileName}</apex:outputLink></span></div>
                                        </apex:outputPanel>
                                        <apex:outputPanel rendered="{!surveyQuestionFile.type != 'png' && surveyQuestionFile.type != 'jpg' && surveyQuestionFile.type != 'gif' && surveyQuestionFile.type != 'jpeg' && surveyQuestionFile.type != 'xls' && surveyQuestionFile.type != 'xlsx'  && surveyQuestionFile.type != 'docx' && surveyQuestionFile.type != 'doc' && surveyQuestionFile.type != 'pdf' && surveyQuestionFile.type != 'ppt'}">
                                            <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!surveyQuestionFile.Id}"><apex:image url="{!$Resource.unknownicon}" width="75"/></apex:outputLink></span></div>
                                            <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!surveyQuestionFile.Id}">{!surveyQuestionFile.fileName}</apex:outputLink></span></div>
                                        </apex:outputPanel>
                                    </div>
                                </apex:repeat>
                            </div>
                        </apex:outputPanel>

                        <div style="padding-top:10px">
                            <div style="font-size:16px; font-weight: bold; padding-bottom: 10px">Remarks:</div>
                            <apex:outputField value="{!wrapper.surveyQuestion.Remarks__c}"/>
                        </div>

                        <apex:outputPanel rendered="{!wrapper.surveyQuestion.Action_Plan__c != null}">
                            
                            <apex:variable var="apWrapper" value="{!evaluationWrapper.actionPlanWrapperMap[wrapper.surveyQuestion.Action_Plan__c]}"   /> 

                            <div style="padding-top:10px; padding-bottom:10px">
                                <div style="font-size:16px; font-weight: bold; padding-bottom: 10px">Action Plan Proof:</div>

                                <apex:outputPanel rendered="{!apWrapper.actionPlanDocumentIds.size > 0}">
                                    <div style="border: 1px solid #808080;padding:10px">
                                        
                                        <apex:repeat value="{!apWrapper.actionPlanDocumentIds}" var="actionPlanFile">
                                            <div style="padding-bottom: 25px">
                                                <apex:outputPanel rendered="{!actionPlanFile.type == 'png' || actionPlanFile.type == 'jpg' || actionPlanFile.type == 'gif' || actionPlanFile.type == 'jpeg'}">
                                                    <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!actionPlanFile.Id}"><apex:image value="/sfc/servlet.shepherd/version/download/{!actionPlanFile.Id}" width="200"/></apex:outputLink></span></div>
                                                    <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!actionPlanFile.Id}">{!actionPlanFile.fileName}</apex:outputLink></span></div>
                                                </apex:outputPanel>
                                                <apex:outputPanel rendered="{!actionPlanFile.type == 'xls' || actionPlanFile.type == 'xlsx'}">
                                                    <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!actionPlanFile.Id}"><apex:image url="{!$Resource.excelicon}" width="75"/></apex:outputLink></span></div>
                                                    <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!actionPlanFile.Id}">{!actionPlanFile.fileName}</apex:outputLink></span></div>
                                                </apex:outputPanel>
                                                <apex:outputPanel rendered="{!actionPlanFile.type == 'doc' || actionPlanFile.type == 'docx'}">
                                                    <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!actionPlanFile.Id}"><apex:image url="{!$Resource.wordicon}" width="75"/></apex:outputLink></span></div>
                                                    <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!actionPlanFile.Id}">{!actionPlanFile.fileName}</apex:outputLink></span></div>
                                                </apex:outputPanel>
                                                <apex:outputPanel rendered="{!actionPlanFile.type == 'pdf' }">
                                                    <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!actionPlanFile.Id}"><apex:image url="{!$Resource.pdficon}" width="75"/></apex:outputLink></span></div>
                                                    <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!actionPlanFile.Id}">{!actionPlanFile.fileName}</apex:outputLink></span></div>
                                                </apex:outputPanel>
                                                <apex:outputPanel rendered="{!actionPlanFile.type == 'ppt'}">
                                                    <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!actionPlanFile.Id}"><apex:image url="{!$Resource.ppticon}" width="75"/></apex:outputLink></span></div>
                                                    <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!actionPlanFile.Id}">{!actionPlanFile.fileName}</apex:outputLink></span></div>
                                                </apex:outputPanel>
                                                <apex:outputPanel rendered="{!actionPlanFile.type != 'png' && actionPlanFile.type != 'jpg' && actionPlanFile.type != 'gif' && actionPlanFile.type != 'jpeg' && actionPlanFile.type != 'xls' && actionPlanFile.type != 'xlsx'  && actionPlanFile.type != 'docx' && actionPlanFile.type != 'doc' && actionPlanFile.type != 'pdf' && actionPlanFile.type != 'ppt'}">
                                                    <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!actionPlanFile.Id}"><apex:image url="{!$Resource.unknownicon}" width="75"/></apex:outputLink></span></div>
                                                    <div><span style="padding-right:3px"><apex:outputLink value="/sfc/servlet.shepherd/version/download/{!actionPlanFile.Id}">{!actionPlanFile.fileName}</apex:outputLink></span></div>
                                                </apex:outputPanel>
                                            </div>
                                        </apex:repeat>
                                    </div>
                                </apex:outputPanel>
                            </div>

                   
                            <div style="padding-top: 15px">
                                <div style="font-size:16px; font-weight: bold;">Dealer Summary</div>
                                <div style="padding-left:10px"><apex:outputField value="{!apWrapper.actionPlan.SummaryDealer__c}"></apex:outputField></div>
                            </div>

                        </apex:outputPanel>



                    </div>
                <div style="padding-left:20px; padding-right:20px; color:#808080;padding-top:10px; padding-bottom:10px">
                    <hr style="border-top: 2px inset #bbb;"/>
                </div>
                <div style="page-break-after:always"/>
                </apex:repeat>
            </div>
        </apex:outputPanel>

        </div>
    </div>
</apex:page>